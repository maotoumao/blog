---
import ArrowLeft from 'lucide-astro/ArrowLeft';
import ArrowRight from 'lucide-astro/ArrowRight';

const { currentPage = 1, totalPages = 1, basePath = '/page' } = Astro.props;
const pages = Array.from({ length: totalPages }, (_, i) => i + 1);
const pageHref = (page: number) => (page === 1 ? '/' : `${basePath}/${page}`);
---
{totalPages > 1 && (
<div class="flex justify-center items-center gap-4 mt-20 pt-12 border-t border-warm-text/10 dark:border-night-text/10 font-serif">
  <a
    href={pageHref(Math.max(1, currentPage - 1))}
    aria-label="Previous Page"
    class={`p-2 text-warm-text/60 hover:text-warm-accent transition-colors ${currentPage === 1 ? 'pointer-events-none text-warm-text/20' : ''}`}
  >
    <ArrowLeft size={20} strokeWidth={1.6} />
  </a>

  <div class="flex gap-2">
    {pages.map((page) => (
      <a
        href={pageHref(page)}
        class={`w-8 h-8 flex items-center justify-center rounded-full transition-all duration-300 ${currentPage === page ? 'bg-warm-text text-warm-bg dark:bg-night-text dark:text-night-bg' : 'text-warm-text/60 hover:bg-warm-text/5 dark:text-night-text/60 dark:hover:bg-night-text/10'}`}
      >
        {page}
      </a>
    ))}
  </div>

  <a
    href={pageHref(Math.min(totalPages, currentPage + 1))}
    aria-label="Next Page"
    class={`p-2 text-warm-text/60 hover:text-warm-accent transition-colors ${currentPage === totalPages ? 'pointer-events-none text-warm-text/20' : ''}`}
  >
    <ArrowRight size={20} strokeWidth={1.6} />
  </a>
  </div>
)}
